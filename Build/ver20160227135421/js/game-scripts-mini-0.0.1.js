(function(e,t,n){function E(){function n(){var e=0;for(var n=0;n<t.length;n++)t[n].name==qc.CatchGame.Status&&(e=n);return e++,e%=4,t[e].name}var e=0,t=[{name:"welcome"},{name:"introduce"},{name:"playing"},{name:"reward"}];return n}e.inBox=function(e,t){return inBox_x(e,t)&&inBox_y(e,t)?!0:!1},e.inBox_x=function(e,t){return e.x<=t.x&&t.x<=e.x+e.width?!0:!1},e.inBox_y=function(e,t){return e.y<=t.y&&t.y<=e.y+e.height?!0:!1},e.distanceSquare=function(e,t,n,r){var i=Math.pow(Math.abs(e-n),2),s=Math.pow(Math.abs(t-r),2);return i+s},e.distance=function(t,n,r,i){return Math.sqrt(distanceSquare(t,n,r,i))},e.checkPointInRadius=function(e,t,n){return distance(e.x,e.y,n.x,n.y)<t?!0:!1},e.arrRemove=function(e,t){var n=e.indexOf(t);return n>=0?(e.splice(n,1),!0):!1},e.doPoolObject=function(e,t){for(var n=0;n<e.length;n++)t&&t(e,n,e[n])},e.arrayDelIndexGroup=function(e,t){e.sort(function(e,t){return e>t?1:-1});for(var n=e.length-1;n>=0;n--)t.length>e[n]&&t.splice(e[n],1)},"use strict",e.CatchGame=qc.CatchGame={FALL_SPEED:5,RAISE_LEVEL:-20,SEA_LEVEL:980,SPEAK_BOX_MIX_WIDTH:600,DEFAULT_MUSIC_PLAYING:!1,DEFAULT_PAGE:"welcome",DATA_SOURCE:[{id:0,icon:"13.png",score:10,noRepeatRadius:1500,noOtherRadius:160},{id:1,icon:"12.png",score:10,noRepeatRadius:1500,noOtherRadius:160},{id:2,icon:"11.png",score:10,noRepeatRadius:1500,noOtherRadius:160},{id:3,icon:"10.png",score:10,noRepeatRadius:1500,noOtherRadius:160},{id:4,icon:"7.png",score:1,noRepeatRadius:150,noOtherRadius:160},{id:5,icon:"8.png",score:1,noRepeatRadius:150,noOtherRadius:160},{id:6,icon:"9.png",score:1,noRepeatRadius:150,noOtherRadius:160},{id:7,icon:"1.png",score:-3,noRepeatRadius:150,noOtherRadius:160},{id:8,icon:"2.png",score:-3,noRepeatRadius:150,noOtherRadius:160},{id:9,icon:"3.png",score:-3,noRepeatRadius:150,noOtherRadius:160},{id:10,icon:"0.png",score:-100,noRepeatRadius:1e3,noOtherRadius:160},{id:11,icon:"4.png",score:5,noRepeatRadius:500,noOtherRadius:160},{id:12,icon:"5.png",score:5,noRepeatRadius:500,noOtherRadius:160},{id:13,icon:"6.png",score:5,noRepeatRadius:500,noOtherRadius:160}],REWARD_GROUP:[{icon:"jiang1.png",url:"",score_limit:10},{icon:"jiang2.png",url:"",score_limit:10},{icon:"jiang3.png",url:"",score_limit:10},{icon:"jiang4.png",url:"",score_limit:10},{icon:"jiang5.png",url:"",score_limit:10}],_introduced:!1,_running:!1,_gameStatus:"running",_status:"",set Status(e){this.statusSignal.dispatch(this._status,e),this._status=e},get Status(){return this._status},_score:0,set Score(e){this._score=e,qc.CatchGame.speaker.setScore(this._score)},get Score(){return this._score},operation:{}},qc.initGame=function(e){CatchGame.itemSignal=new qc.Signal,CatchGame.statusSignal=new qc.Signal,CatchGame.catcher=new qc.CatchGame.CatcherLogic,CatchGame.fallitemFactory=new qc.CatchGame.FallItemFactory,CatchGame.fallitemPool=new qc.CatchGame.FallItemPoolLogic,CatchGame.speaker=new qc.CatchGame.SpeakerLogic,CatchGame.itemSignal.add(qc.CatchGame.onItemSignal),CatchGame.Status=CatchGame.DEFAULT_PAGE},qc.CatchGame.gameStart=function(){this.Score=0,this._running=!0,this._gameStatus="running"},qc.CatchGame.gameOver=function(){this._running=!1,this._gameStatus="lose"},qc.CatchGame.gameWin=function(){this._running=!1,this._gameStatus="win"},qc.CatchGame.gameInit=function(){this.Score=0,this._running=!1,this._gameStatus=""},qc.CatchGame.getGameEndStatus=function(){return this._gameStatus},qc.CatchGame.isGameRunning=function(){return this._running},qc.CatchGame.setIntroduced=function(){this._introduced=!0},qc.CatchGame.isIntroduced=function(){return this._introduced},qc.CatchGame.getCurrentRewardURL=function(){return"http://wesite.yunyuev.com/yunyue/mall46.php/card/getCardByLink/tid/15/iskefu/1"},qc.CatchGame.getCurrentRewardPng=function(){return"jiang4.png"},qc.CatchGame.getWinTitle=function(){return"Yeah~满堂彩"},qc.CatchGame.getLoseTitle=function(){return"好难，输了输了"},qc.CatchGame.isCrash=function(e){var t=qc.CatchGame.catcher.getDetectBox(),n={x:t.x-40,y:t.y-40,width:t.width+80,height:t.height+80};return n.x<e.x&&e.x<n.x+n.width&&n.y<e.y&&e.y<n.y+n.height?!0:!1},qc.CatchGame.onItemSignal=function(e){switch(e.eventType){case"crash":qc.CatchGame.onItemSignal_crash(e);break;case"fallout":qc.CatchGame.onItemSignal_fallout(e);break;default:}},qc.CatchGame.checkStatus=function(){var e=this;e.Score>200?e.gameWin():e.Score<-200&&e.gameOver()},qc.CatchGame.onItemSignal_crash=function(e){qc.CatchGame.Score+=e.score},qc.CatchGame.onItemSignal_fallout=function(e){},"use strict";var r=qc.CatchGame.FallItemFactory=function(){var e=this;e.factorydata=qc.CatchGame.DATA_SOURCE,e.data=[];for(var t=0;t<e.factorydata.length;t++){var n=new qc.CatchGame.FallItemLogic;n.initObj(e.factorydata[t]),e.data.push(n)}e.tryUpTimes=5,e._chapter=0};r.prototype={},r.prototype.constructor=r,t.defineProperties(r.prototype,{}),r.prototype.fillPoolWithArea=function(e,t){var n=this,r=n.randomPoolWithArea(e,t);return r.sort(function(e,t){return e.y>=t.y?1:e.x>=t.x?1:-1}),r},r.prototype.randomPoolWithArea=function(e,t){var n=this,r=[];for(var i=0;i<n.data.length;i++){var s=n.data[i],o=n.fillUP(s,e,r.concat(t));r=r.concat(o)}return r},r.prototype.fillUP=function(e,t,n){var r=this,i=r.tryUpTimes,s=[];for(;;){var o={x:Math.random()*t.width+t.x,y:Math.random()*t.height+t.y};if(r.putCheck(e.id,o,s.concat(n)))e.x=o.x,e.y=o.y,s.push(e.clone());else{i--;if(i<0)break}}return s},r.prototype.putCheck=function(e,t,n){var r=this;for(var i=0;i<n.length;i++){var s=n[i];if(s.id==e&&checkPointInRadius({x:s.x,y:s.y},s.noRepeatRadius,t))return!1;if(checkPointInRadius({x:s.x,y:s.y},s.noOtherRadius,t))return!1}return!0},r.prototype.chapterPoolWithArea=function(e,t){var n=this,r=[[[320,0],[320,-100],[320,-200],[320,-300],[320,-400],[320,-500],[320,-600],[320,-700],[320,-800],[320,-900],[320,-1e3]]],i=r[this._chapter],s=[];this._chapter=this._chapter++%r.length;for(var o=0;o<i.length;o++){var u=n.data[0];u.x=i[o][0],u.y=i[o][1],s.push(u.clone())}return s},"use strict";var i=qc.CatchGame.FallItemLogic=function(){var e=this;e.icon="",e.id="",e._x=0,e._y=0,e.noRepeatRadius=0,e.noOtherRadius=0,e.score=0,e.o=null};i.prototype={},i.prototype.constructor=i,t.defineProperties(i.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.o&&(this.o.x=e)}},y:{get:function(){return this._y},set:function(e){this._y=e,this.o&&(this.o.y=e)}}}),i.prototype.init=function(e,t,n,r,i,s,o){var u=this;u.icon=t,u.id=e,u.x=n,u.y=r,u.noRepeatRadius=i,u.noOtherRadius=s,u.score=o},i.prototype.initObj=function(e){var t=this;t.icon=e.icon,t.id=e.id,t.noRepeatRadius=e.noRepeatRadius,t.noOtherRadius=e.noOtherRadius,t.score=e.score},i.prototype.clone=function(){var e=this,t=new i;return t.icon=e.icon,t.id=e.id,t.x=e.x,t.y=e.y,t.noRepeatRadius=e.noRepeatRadius,t.noOtherRadius=e.noOtherRadius,t.score=e.score,t},i.prototype.getInfo=function(e){var t=this,n={eventType:1,score:t.score};return n},i.prototype.onChangeEvent=function(){var e=this;if(e.icon=="7.png"||e.icon=="8.png")e.o.frame="9.png",e.timer=setTimeout(function(){clearTimeout(e.timer),e.o.frame=e.icon},1e3)},"use strict";var s=qc.CatchGame.FallItemPoolLogic=function(){var e=this;e.currentPool=[],e.raiseLine=qc.CatchGame.RAISE_LEVEL,e.fallOutLine=qc.CatchGame.SEA_LEVEL};s.prototype={},s.prototype.constructor=s,t.defineProperties(s.prototype,{}),s.prototype.init=function(e){this.uiObj=e},s.prototype.getPool=function(){return this.currentPool},s.prototype.isPoolNeedNew=function(){var e=this;return e.currentPool.length>0?e.currentPool[e.currentPool.length-1].y>e.raiseLine?!0:!1:!0},s.prototype.additem=function(e){var t=this;t.currentPool.push(e),t.uiObj.additem(e)},s.prototype.additems=function(e){var t=this;for(var n=0;n<e.length;n++)t.currentPool.push(e[n]),t.uiObj.additem(item)},s.prototype.delItem=function(e){var t=this;t.currentPool.remove(e)},s.prototype.delItem=function(e){var t=this;for(var n=0;n<e.length;n++)t.currentPool.remove(e[n])},s.prototype.delItemIndex=function(e){var t=this,n=[e];arrayDelIndexGroup(indexgroup,t.currentPool)},s.prototype.delItemIndexArr=function(e){var t=this;arrayDelIndexGroup(e,t.currentPool)},s.prototype.clearAll=function(){var e=this,t=[],n=function(e,n,r){var i=r.o.getScript("qc.engine.FallItemUI");i.onFallout(),t.push(n)};doPoolObject(e.currentPool,n),e.delItemIndexArr(t)},s.prototype.updateAllPoolObject=function(e){var t=this,n=function(t,n,r){r.x+=e.x,r.y+=e.y};doPoolObject(t.currentPool,n)},s.prototype.checkFalloutPoolObject=function(){var e=this,t=[],n=function(n,r,i){if(i.y>e.fallOutLine){var s=i.o.getScript("qc.engine.FallItemUI");s.onFallout(),t.push(r),qc.CatchGame.itemSignal.dispatch({eventType:"fallout",obj:i})}};doPoolObject(e.currentPool,n),e.delItemIndexArr(t)},s.prototype.checkCrashPoolObject=function(){var e=this,t=[],n=function(e,n,r){if(qc.CatchGame.isCrash({x:r.x,y:r.y})){var i=r.o.getScript("qc.engine.FallItemUI");i.setScore(r.score),i.onCrash(),t.push(n),qc.CatchGame.itemSignal.dispatch({eventType:"crash",score:r.score,obj:r}),qc.CatchGame.itemSignal.dispatch(r.getInfo())}};doPoolObject(e.currentPool,n),e.delItemIndexArr(t)},"use strict";var o=qc.CatchGame.SpeakerLogic=function(){var e=this};o.prototype={},o.prototype.constructor=o,t.defineProperties(o.prototype,{}),o.prototype.init=function(e){this.uiObj=e},o.prototype.setScore=function(e){var t=this,n="Score : "+qc.CatchGame.Score;t.uiObj.setWord(n)},"use strict";var u=qc.defineBehaviour("qc.engine.WelcomePageUI",qc.Behaviour,function(){var e=this},{});u.prototype.awake=function(){},u.prototype.update=function(){},u.prototype.setup=function(){},u.prototype.clearup=function(){},"use strict";var a=qc.defineBehaviour("qc.engine.ItroduceUI",qc.Behaviour,function(){},{});a.prototype.awake=function(){var e=this,t=e.gameObject},a.prototype.update=function(){},a.prototype.onClick=function(){qc.CatchGame.Status="playing"},"use strict";var f=qc.defineBehaviour("qc.engine.BackCountUI",qc.Behaviour,function(){this.callback=null},{});f.prototype.awake=function(){var e=this,t=e.gameObject;t.visible=!1},f.prototype.update=function(){},f.prototype.doShow=function(e,t,n){var r=this,i=r.gameObject,s=r.getScript("qc.TweenAlpha");i.text=e,i.visible=!0,s.duration=t,s.onFinished.addOnce(n),s.playForward(!0)},f.prototype.showBackCount=function(e){var t=this,n=t.gameObject;n.text="",n.startColor=new qc.Color([255,255,255]),n.endColor=new qc.Color([201,201,201]),t.doShow("3",.8,function(){t.doShow("2",.8,function(){t.doShow("1",.8,function(){t.doShow("Go!",.8,function(){typeof e=="function"&&e(),n.visible=!1})})})})},f.prototype.showLose=function(e){var t=this,n=t.gameObject;n.text="",n.startColor=new qc.Color([158,150,0]),n.endColor=new qc.Color([255,0,0]),t.doShow("GameOver",3,function(){typeof e=="function"&&e(),n.visible=!1})},f.prototype.showWin=function(e){var t=this,n=t.gameObject;n.text="",n.startColor=new qc.Color("#FCE300"),n.endColor=new qc.Color("#FFFC59"),t.doShow("~\\YouWin/~",2,function(){typeof e=="function"&&e(),n.visible=!1})},"use strict";var l=qc.defineBehaviour("qc.engine.CatcherUI",qc.Behaviour,function(){var e=this;e.moveing_area={x:0,y:0,width:640,height:960},e._mousepos={x:0,y:0},e.logicObj=null,e.pos={get x(){return this._x},set x(t){e.updateLogicX(t),this._x=t},get y(){return this._y},set y(t){e.updateLogicY(t),this._y=t},_x:0,_y:0}},{CheckAreaNode:qc.Serializer.NODE,ImageNode:qc.Serializer.NODE,AreaNode:qc.Serializer.NODE,WorldNode:qc.Serializer.NODE});l.prototype.awake=function(){var e=this,t=e.gameObject;e.AreaNode&&(e.Area=e.AreaNode.getScript("qc.engine.ObjectAreaUI"),e.moveing_area=e.Area.currentBox(),e.AreaNode.visable=!1);var n={};e.CheckAreaNode&&(e.CheckArea=e.CheckAreaNode.getScript("qc.engine.ObjectAreaUI"),n=e.CheckArea.currentBox(),e.CheckAreaNode.visable=!1,n.x+=t.x,n.y+=t.y),e.init(qc.CatchGame.catcher,n)},l.prototype.update=function(){},l.prototype.init=function(e,t){var n=this,r=n.gameObject;n.logicObj=e,n.logicObj.x=r.x,n.logicObj.y=r.y,n.logicObj.detectArea=t,n.logicObj.countBoxOffset()},l.prototype.updateLogicX=function(e){this.logicObj.x=e},l.prototype.updateLogicY=function(e){this.logicObj.y=e},l.prototype.onDown=function(e){var t=this,n=t.gameObject;t._press=!0,t._mousepos=n.getWorldPosition(),console.log("dragStart")},l.prototype.onDrag=function(t){var n=this,r=n.gameObject;if(n._press){n._mousepos.x+=t.source.deltaX,n._mousepos.y+=t.source.deltaY;var i=n.WorldNode.toLocal(n._mousepos),s=r.getWorldPosition();if(e.inBox(n.moveing_area,i)){var o=r.parent.toLocal(n._mousepos);this.pos.x=r.x=o.x,this.pos.y=r.y=o.y}else if(e.inBox_x(n.moveing_area,i)){var u=r.parent.toLocal(n._mousepos),a=r.parent.toLocal(s);this.pos.x=r.x=u.x,this.pos.y=r.y=a.y}else if(e.inBox_y(n.moveing_area,i)){var u=r.parent.toLocal(s),a=r.parent.toLocal(n._mousepos);this.pos.x=r.x=u.x,this.pos.y=r.y=a.y}else{var u=r.parent.toLocal(s),a=r.parent.toLocal(s);this.pos.x=r.x=u.x,this.pos.y=r.y=a.y}}},l.prototype.onDragEnd=function(e){var t=this,n=t.gameObject;t._press=!1,console.log("dragEnd")},"use strict";var c=qc.defineBehaviour("qc.engine.FallItemPoolUI",qc.Behaviour,function(){var e=this;e.fallSpeed=qc.CatchGame.FALL_SPEED},{FallItemPrefab:qc.Serializer.PREFAB});c.prototype.awake=function(){var e=this,t=e.gameObject;qc.CatchGame.fallitemPool.init(e)},c.prototype.additem=function(e){var t=this,n=t.gameObject,r=t.game.add.clone(t.FallItemPrefab,n);r.frame=e.icon,r.x=e.x,r.y=e.y,r.visable=!0,e.o=r},c.prototype.fallAll=function(){var e=this;qc.CatchGame.fallitemPool.updateAllPoolObject({x:0,y:e.fallSpeed})},c.prototype.fallOut=function(){var e=this;qc.CatchGame.fallitemPool.checkFalloutPoolObject()},c.prototype.crashUp=function(){var e=this;qc.CatchGame.fallitemPool.checkCrashPoolObject()},c.prototype.need2Create=function(){return qc.CatchGame.fallitemPool.isPoolNeedNew()},c.prototype.clearAll=function(){qc.CatchGame.fallitemPool.clearAll()};var h=qc.defineBehaviour("qc.engine.FallItemUI",qc.Behaviour,function(){var e=this,t=e.gameObject;e._scoretext=""},{testPrefab:qc.Serializer.PREFAB});t.defineProperties(h.prototype,{pos_x:{get:function(){return this._pos.x},set:function(e){this._pos.x=e}},pos_y:{get:function(){return this._pos.y},set:function(e){this._pos.y=e}},pos:{get:function(){return this._pos},set:function(e){this._pos=e}}}),h.prototype.onCrash=function(){var e=this,t=e.gameObject,n=e.getScript("qc.TweenAlpha");t.visible=!0,n.resetToBeginning(),n.onFinished.addOnce(function(){t.visible=!1,t.destroy()}),n.playForward();if(e.testPrefab){var r=e.game.add.clone(e.testPrefab,e.gameObject.parent);e.test=r.getScript("qc.engine.ScoreUI"),e.test.setPos(t.x,t.y)}e.test.show(e._scoretext)},h.prototype.onFallout=function(){var e=this,t=e.gameObject;t.destroy()},h.prototype.setScore=function(e){var t=this;t._scoretext=e>0?"+"+e.toString():e.toString()},"use strict";var p=qc.defineBehaviour("qc.engine.ScoreUI",qc.Behaviour,function(){},{});p.prototype.awake=function(){var e=this,t=e.gameObject;t.visible=!1},p.prototype.update=function(){},p.prototype.show=function(e){var t=this,n=t.gameObject,r=t.getScript("qc.TweenAlpha"),i=t.getScript("qc.TweenPosition");n.text=e,n.visible=!0,i.from.x+=n.x,i.from.y+=n.y,i.to.x+=n.x,i.to.y+=n.y,r.onFinished.addOnce(function(){n.visible=!1,n.destroy()}),r.playGroupForward()},p.prototype.setPos=function(e,t){var n=this,r=n.gameObject;r.x=e,r.y=t},"use strict";var d=qc.defineBehaviour("qc.engine.SpeakerUI",qc.Behaviour,function(){var e=this},{TextNode:qc.Serializer.NODE});d.prototype.awake=function(){var e=this,t=e.gameObject;qc.CatchGame.speaker.init(e)},d.prototype.init=function(e,t){var n=this,r=n.gameObject},d.prototype.setWord=function(e){var t=this;t.TextNode.text=e;var n=t.TextNode.nativeSize},"use strict";var v=qc.defineBehaviour("qc.engine.AAAintroduceUI",qc.Behaviour,function(){var e=this},{});v.prototype.awake=function(){var e=this},v.prototype.update=function(){},v.prototype.onClick=function(){var e=this;console.log("AAAintroduce"),qc.CatchGame.Status="introduce"},"use strict";var m=qc.defineBehaviour("qc.engine.AAAplayingUI",qc.Behaviour,function(){var e=this},{});m.prototype.awake=function(){var e=this},m.prototype.update=function(){},m.prototype.onClick=function(){var e=this;console.log("AAAplaying"),qc.CatchGame.Status="playing"},"use strict";var g=qc.CatchGame.CatcherLogic=function(){var e=this;e.x=0,e.y=0,e.detectArea={x:0,y:0,width:0,height:0},e._countOffset={x:0,y:0,width:0,height:0}};g.prototype={},g.prototype.constructor=g,t.defineProperties(g.prototype,{}),g.prototype.countBoxOffset=function(){var e=this;e._countOffset.x=e.x-e.detectArea.x,e._countOffset.y=e.y-e.detectArea.y},g.prototype.updateBox=function(){var e=this;e.detectArea.x=e.x-e._countOffset.x,e.detectArea.y=e.y-e._countOffset.y},g.prototype.getDetectBox=function(){var e=this;return e.updateBox(),e.detectArea},"use strict";var y=qc.defineBehaviour("qc.engine.AAAwelcomeUI",qc.Behaviour,function(){var e=this},{});y.prototype.awake=function(){var e=this},y.prototype.update=function(){},y.prototype.onClick=function(){var e=this;console.log("AAAwelcomeUI"),qc.CatchGame.Status="welcome"},"use strict";var b=qc.defineBehaviour("qc.engine.MusicBtnUI",qc.Behaviour,function(){var e=this;e._playing=qc.CatchGame.DEFAULT_MUSIC_PLAYING},{});b.prototype.awake=function(){var e=this,t=e.gameObject;e._playing===!1?t.frame="music_off.png":t.frame="music_on.png"},b.prototype.update=function(){},b.prototype.onClick=function(){var e=this,t=e.gameObject;e._playing===!1?(e._playing=!0,t.frame="music_on.png",console.log("music playing")):(e._playing=!1,t.frame="music_off.png",console.log("music pause"))},"use strict";var w=qc.defineBehaviour("qc.engine.TestSpriteUI",qc.Behaviour,function(){var e=this},{testNode:qc.Serializer.NODE});w.prototype.awake=function(){var e=this;e.testNode&&(e.test=e.testNode.getScript("qc.engine.BackCountUI"))},w.prototype.update=function(){},w.prototype.onClick=function(){var e=this;qc.CatchGame.gameOver()},w.prototype.onCreatePoolFallItem=function(){var e=this,t={x:0,y:0,width:640,height:960},n=e.itemFactory.getFillAreaPool(t);for(var r=0;r<n.length;r++){var i=n[r],s=e.game.add.clone(e.testPrefab,e.worldNode);s.frame=i.icon,s.x=i.x,s.y=i.y}},w.prototype.onCreateOneFallItem=function(){var e=this;console.log("onclick");if(!e.flag){e.flag=!0;var t=e.game.add.clone(e.testPrefab,e.gameObject);e.test=t.getScript("qc.engine.FallItemUI")}else e.flag=!1,e.test.onCrash()},w.prototype.onScoreDispear=function(){if(self.testPrefab){var e=self.game.add.clone(self.testPrefab,self.gameObject);self.test=e.getScript("qc.engine.ScoreUI")}self.test.show("+5")},"use strict";var S=qc.defineBehaviour("qc.engine.GetRewardBtnUI",qc.Behaviour,function(){var e=this;e._clickable=!0,e.onFinishClickCallback=null},{StickNode:qc.Serializer.NODE,BallNode:qc.Serializer.NODE});S.prototype.awake=function(){var e=this;e.StickNode&&(e.stick=e.StickNode.getScript("qc.TweenScale")),e.BallNode&&(e.ball=e.BallNode.getScript("qc.TweenPosition"))},S.prototype.init=function(e){this.onFinishClickCallback=e},S.prototype.onClick=function(){var e=this;e._clickable===!0&&(e._clickable=!1,e.stick.resetToBeginning(),e.ball.resetToBeginning(),e.stick.playGroupForward(),e.ball.playGroupForward(),e.stick.onFinished.addOnce(function(){e.onFinishClickCallback&&e.onFinishClickCallback(),e._clickable=!0}))},"use strict";var x=qc.defineBehaviour("qc.engine.ReplayBtnUI",qc.Behaviour,function(){var e=this},{});x.prototype.onClick=function(){var e=this;qc.CatchGame.Status="playing"},"use strict";var T=qc.defineBehaviour("qc.engine.RewardBtnUI",qc.Behaviour,function(){var e=this},{});T.prototype.onClick=function(){var t=this;e.location.href=qc.CatchGame.getCurrentRewardURL()};var N=qc.defineBehaviour("qc.engine.ShowRewardUI",qc.Behaviour,function(){var e=this;e._update_enable=!0,e._frameGroup=qc.CatchGame.REWARD_GROUP,e._frameName="jiang1.png",e._blurValue=3,e._durationValue=.1},{Fast1Node:qc.Serializer.NODE,LastNode:qc.Serializer.NODE});N.prototype.awake=function(){var e=this;e.Fast1Node&&(e.fast1Position=e.Fast1Node.getScript("qc.TweenPosition"),e.fast1FilterGroup=e.Fast1Node.getScript("qc.FilterGroup"),e.fast1BlurX=e.fast1FilterGroup.filters[0],e.Fast1Node.visible=!1),e.LastNode&&(e.last2Position=e.LastNode.getScript("qc.TweenPosition"),e.LastNode.visible=!0)},N.prototype.setup=function(){var e=this;e.LastNode.visible=!0,e.Fast1Node.visible=!1,e.LastNode.frame="jiang0.png"},N.prototype.init=function(e){var t=this;t.callback=e},N.prototype.showFastMove=function(e,t,n){var r=this,i=r.gameObject;r.Fast1Node.frame=qc_game.math.getRandom(qc.CatchGame.REWARD_GROUP).icon,r.fast1BlurX.blur=e,r.fast1Position.duration=t,r.fast1Position.playForward(!0),r.fast1Position.onFinished.addOnce(n)},N.prototype.showLastMove=function(e){var t=this,n=t.gameObject;t.LastNode.frame=qc.CatchGame.getCurrentRewardPng(),t.LastNode.visible=!0,t.last2Position.playForward(!0),t.last2Position.onFinished.addOnce(e)},N.prototype.onShow=function(){var e=this;e._update_enable===!0&&(e._update_enable=!1,e._frameName="jiang1.png",e._blurValue=3,e._durationValue=.1,e.Fast1Node.visible=!0,e.LastNode.visible=!1,e.showFastMove(e._blurValue-=.3,e._durationValue+=.1,function(){e.showFastMove(e._blurValue-=.3,e._durationValue+=.1,function(){e.showFastMove(e._blurValue-=.3,e._durationValue+=.1,function(){e.showFastMove(e._blurValue-=.3,e._durationValue+=.1,function(){e.showFastMove(e._blurValue-=.3,e._durationValue+=.1,function(){e.showFastMove(e._blurValue-=.3,e._durationValue+=.1,function(){e.showFastMove(e._blurValue-=.3,e._durationValue+=.1,function(){e.showFastMove(e._blurValue-=.3,e._durationValue+=.1,function(){e.showFastMove(e._blurValue-=.3,e._durationValue+=.1,function(){e.showFastMove(e._blurValue-=.3,e._durationValue+=.1,function(){e.showLastMove(function(){e.callback&&e.callback(),e._update_enable=!0})})})})})})})})})})}))},"use strict";var C=qc.defineBehaviour("qc.engine.ItroduceBtnUI",qc.Behaviour,function(){},{});C.prototype.awake=function(){var e=this,t=e.gameObject},C.prototype.onClick=function(){qc.CatchGame.Status="introduce"},"use strict";var k=qc.defineBehaviour("qc.engine.WelStartBtnUI",qc.Behaviour,function(){},{});k.prototype.awake=function(){var e=this,t=e.gameObject},k.prototype.onClick=function(){qc.CatchGame.isIntroduced()?qc.CatchGame.Status="playing":qc.CatchGame.Status="introduce"};var L=qc.defineBehaviour("qc.engine.ObjectAreaUI",qc.Behaviour,function(){},{});L.prototype.currentBox=function(){var e=this,t=e.gameObject,n={x:t.x,y:t.y,width:t.width,height:t.height};return n},"use strict";var A=qc.defineBehaviour("qc.engine.IntroducePageUI",qc.Behaviour,function(){var e=this},{});A.prototype.awake=function(){},A.prototype.update=function(){},A.prototype.setup=function(){qc.CatchGame.setIntroduced()},A.prototype.clearup=function(){},"use strict";var O=qc.defineBehaviour("qc.engine.PlayingPageUI",qc.Behaviour,function(){var e=this;e._onEffect=!1},{FallCreateAreaNode:qc.Serializer.NODE,FallPoolNode:qc.Serializer.NODE,BackCountNode:qc.Serializer.NODE});O.prototype.awake=function(){var e=this,t=e.gameObject;e.FallCreateAreaNode&&(e.FallCreateArea=e.FallCreateAreaNode.getScript("qc.engine.ObjectAreaUI"),e.FallCreateAreaNode.visable=!1),e.FallPoolNode&&(e.fallPool=e.FallPoolNode.getScript("qc.engine.FallItemPoolUI")),e.BackCountNode&&(e.backcount=e.BackCountNode.getScript("qc.engine.BackCountUI"))},O.prototype.setup=function(){var e=this;e.clearItems(),e.createItems(),qc.CatchGame.gameInit(),e.backcount.showBackCount(function(){qc.CatchGame.gameStart()})},O.prototype.clearup=function(){var e=this;e.backcount.showLose(function(){e.clearItems(),qc.CatchGame.gameInit()})},O.prototype.clearItems=function(){var e=this;e.fallPool.clearAll()},O.prototype.createItems=function(){var e=this,t=e.FallCreateArea.currentBox(),n=qc.CatchGame.fallitemPool.getPool(),r=qc.CatchGame.fallitemFactory.fillPoolWithArea(t,n);while(r.length>0){var i=r.pop();qc.CatchGame.fallitemPool.additem(i)}},O.prototype.update=function(){var e=this;if(qc.CatchGame.isGameRunning())qc.CatchGame.checkStatus(),e.fallPool.fallAll(),e.fallPool.fallOut(),e.fallPool.crashUp(),e.fallPool.need2Create()&&e.createItems();else if(e._onEffect===!1)switch(qc.CatchGame.getGameEndStatus()){case"lose":e._onEffect=!0,e.backcount.showLose(function(){console.log("lose 输了"),qc.CatchGame.Status="reward",e._onEffect=!1});break;case"win":e._onEffect=!0,e.backcount.showWin(function(){qc.CatchGame.Status="reward",e._onEffect=!1})}},"use strict";var M=qc.defineBehaviour("qc.engine.RewardPageUI",qc.Behaviour,function(){var e=this;e.gameStatusChange=!1,e.stage=[]},{TigerStickNode:qc.Serializer.NODE,RewardAreaNode:qc.Serializer.NODE,ShareNode:qc.Serializer.NODE,ShadowNode:qc.Serializer.NODE,ReplayBtnNode:qc.Serializer.NODE,RewardBtnNode:qc.Serializer.NODE});M.prototype.awake=function(){var e=this,t=e.gameObject;e.TigerStickNode&&(e.tiger=e.TigerStickNode.getScript("qc.engine.GetRewardBtnUI"),e.TigerStickNode.visible=!0,e.tiger.init(function(){e.reward.onShow()})),e.RewardAreaNode&&(e.reward=e.RewardAreaNode.getScript("qc.engine.ShowRewardUI"),e.RewardAreaNode.visible=!0,e.reward.init(function(){e.ShareNode&&(e.ShareNode.visible=!0),e.ShadowNode&&(e.ShadowNode.visible=!0),e.ReplayBtnNode&&(e.ReplayBtnNode.visible=!0),e.RewardBtnNode&&(e.RewardBtnNode.visible=!0),document.title=qc.CatchGame.getWinTitle()}))},M.prototype.setup=function(){var e=this;e.ShareNode&&(e.ShareNode.visible=!1),e.ShadowNode&&(e.ShadowNode.visible=!1),e.ReplayBtnNode&&(e.ReplayBtnNode.visible=!1),e.RewardBtnNode&&(e.RewardBtnNode.visible=!1),qc.CatchGame.getGameEndStatus()==="win"?e.reward.setup():(e.ShareNode.visible=!0,e.ShadowNode.visible=!0,e.ReplayBtnNode.visible=!0,document.title=qc.CatchGame.getLoseTitle())},M.prototype.clearup=function(){},"use strict";var _=qc.defineBehaviour("qc.engine.UIManager",qc.Behaviour,function(){var e=this;e.gameStatusChange=!1,e.stage=[]},{WelcomeNode:qc.Serializer.NODE,IntroduceNode:qc.Serializer.NODE,PlayingNode:qc.Serializer.NODE,RewardNode:qc.Serializer.NODE});_.prototype.awake=function(){var e=this,t=e.gameObject;e.WelcomeNode&&(e.Welcome=e.WelcomeNode.getScript("qc.engine.WelcomePageUI"),e.WelcomeNode.visible=!1,e.stage.push({name:"welcome",node:e.WelcomeNode,setup:null,clearup:null})),e.IntroduceNode&&(e.Introduce=e.IntroduceNode.getScript("qc.engine.IntroducePageUI"),e.IntroduceNode.visible=!1,e.stage.push({name:"introduce",node:e.IntroduceNode,setup:null,clearup:null})),e.PlayingNode&&(e.Playing=e.PlayingNode.getScript("qc.engine.PlayingPageUI"),e.PlayingNode.visible=!1,e.stage.push({name:"playing",node:e.PlayingNode,setup:null,clearup:null})),e.RewardNode&&(e.Reward=e.RewardNode.getScript("qc.engine.RewardPageUI"),e.RewardNode.visible=!1,e.stage.push({name:"reward",node:e.RewardNode,setup:null,clearup:null})),e.openDefaultPage(),qc.CatchGame.statusSignal.add(function(t,n){e.gameStatusChange=!0;var r=function(t,r,i){if(i.name===n){i.node.visible=!0;switch(i.name){case"welcome":e.Welcome.setup();break;case"introduce":e.Introduce.setup();break;case"playing":e.Playing.setup();break;case"reward":e.Reward.setup();break;default:}}},i=function(t,r,i){if(i.name!=n){i.node.visible=!1;switch(i.name){case"welcome":e.Welcome.clearup();break;case"introduce":e.Introduce.clearup();break;case"playing":e.Playing.clearup();break;case"reward":e.Reward.clearup();break;default:}}};doPoolObject(e.stage,r),doPoolObject(e.stage,i)})},_.prototype.openDefaultPage=function(){var e=this,t=function(e,t,n){n.name==qc.CatchGame.Status&&(n.node.visible=!0)};doPoolObject(e.stage,t)},"use strict";var D=qc.defineBehaviour("qc.engine.AAArewardUI",qc.Behaviour,function(){var e=this},{});D.prototype.awake=function(){var e=this},D.prototype.update=function(){},D.prototype.onClick=function(){var e=this;console.log("AAAreward"),qc.CatchGame.Status="reward"}}).call(this,this,Object)